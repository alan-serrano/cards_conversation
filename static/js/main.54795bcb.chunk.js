(this.webpackJsonpconversation_cards=this.webpackJsonpconversation_cards||[]).push([[0],{100:function(e,t,a){},117:function(e,t,a){},118:function(e,t,a){},119:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(10),c=a.n(r),l=(a(97),a(15)),o=a(9),s=(a(98),a(34)),u=a(30);var f=function(){return i.a.createElement("div",{className:"edit-page"},"P\xe1gina Edit")},d=a(157),m=a(166),p=(a(99),a(171)),g=a(172),v=a(173),E=a(49),b=a(83),O=a.n(b),h=(a(100),a(162)),j=a(45),S=a.n(j),y=a(178),x=a(164),I=a(163),z=a(159),C=a(160),T=Object(d.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},content:{marginTop:"20px"}}})),F=i.a.forwardRef((function(e,t){return i.a.createElement(z.a,Object.assign({direction:"up",ref:t},e))}));var k=function(e){var t=e.children,a=e.Icon,n=T(),r=i.a.useState(!1),c=Object(o.a)(r,2),l=c[0],s=c[1],u=function(){s(!1)};return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{"aria-label":"help",style:{color:"#F44336"},onClick:function(){s(!0)}},i.a.createElement(a,null)),i.a.createElement(y.a,{fullScreen:!0,open:l,onClose:u,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",TransitionComponent:F},i.a.createElement(h.a,{className:n.appBar},i.a.createElement(I.a,null,i.a.createElement(C.a,{edge:"start",color:"inherit",onClick:u,"aria-label":"close"},i.a.createElement(S.a,null)),i.a.createElement(E.a,{variant:"h6",className:n.title},"Help"))),i.a.createElement(x.a,{className:n.content},t)))},Q=a(180),N=a(168),M=a(169),D=a(167),q=a(170),w=a(165),L=a(175),A=a(82),W=a.n(A),B=a(71),R=a.n(B),P=a(63),J=a.n(P);J.a.initializeApp({apiKey:"AIzaSyBJmgMqOrcOQBg3-JvswwmqlLCvbIAIoeY",authDomain:"cards-conversation-starters.firebaseapp.com",databaseURL:"https://cards-conversation-starters.firebaseio.com",projectId:"cards-conversation-starters",storageBucket:"cards-conversation-starters.appspot.com",messagingSenderId:"1037492872627",appId:"1:1037492872627:web:9af0f2901b3655cb7357c6",measurementId:"G-HSK36FCQYP"});J.a.auth;var H=J.a.database();function U(e,t){return Math.floor((t-e+1)*Math.random()+e)}function G(e){return e[U(0,e.length-1)]}var K=Object(d.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1},content:{marginTop:"20px"}}})),Y=i.a.forwardRef((function(e,t){return i.a.createElement(z.a,Object.assign({direction:"up",ref:t},e))}));function _(e){e.difficulties;var t=e.normalizedDifficulties,a=(e.normalizedDifficultiesMap,e.difficultyStates),n=e.setDifficultyStates,r=(e.topics,e.normalizedTopics),c=(e.normalizedTopicsMap,e.topicStates),s=e.setTopicStates,u=i.a.useState(!1),f=Object(o.a)(u,2),d=f[0],p=f[1],g=i.a.useState(!1),v=Object(o.a)(g,2),E=v[0],b=v[1];function O(e,t,a){return e.map((function(e,n){return i.a.createElement(w.a,{control:i.a.createElement(L.a,{checked:t[e.id],onChange:a,name:"".concat(e.id),key:n}),label:e.name})}))}return i.a.useEffect((function(){Object.values(a).filter((function(e){return e})).length===Object.values(a).length?p(!0):p(!1),Object.values(c).filter((function(e){return e})).length!==Object.values(c).length?b(!1):b(!0)}),[a,c]),i.a.createElement(i.a.Fragment,null,i.a.createElement("form",null,i.a.createElement(m.a,{maxWidth:"xs"},i.a.createElement(Q.a,{component:"fieldset"},i.a.createElement(D.a,{component:"legend"},"Select difficulty"),i.a.createElement(N.a,null,i.a.createElement(w.a,{control:i.a.createElement(L.a,{checked:d,onChange:function(e){if(e.target.checked){var t={};for(var i in a)t[i]=!0;n(t)}else{var r={};for(var c in a)r[c]=!1;n(r)}p(e.target.checked)}}),label:"All"}),O(t,a,(function(e){var t=Object(l.a)({},a);t[e.target.name]=e.target.checked,n(t)}))),i.a.createElement(M.a,null)),i.a.createElement(q.a,{light:!0}),i.a.createElement(Q.a,{component:"fieldset"},i.a.createElement(D.a,{component:"legend"},"Select topics"),i.a.createElement(N.a,null,i.a.createElement(w.a,{control:i.a.createElement(L.a,{checked:E,onChange:function(e){if(e.target.checked){var t={};for(var a in c)t[a]=!0;console.log(t),s(t)}else{var n={};for(var i in c)n[i]=!1;s(n)}b(e.target.checked)}}),label:"All"}),O(r,c,(function(e){var t=Object(l.a)({},c);t[e.target.name]=e.target.checked,s(t)}))),i.a.createElement(M.a,null)))))}var V=function(e){var t=e.topics,a=e.normalizedTopics,n=e.normalizedTopicsMap,r=e.topicFilters,c=e.setTopicFilters,s=e.difficulties,f=e.normalizedDifficulties,d=e.normalizedDifficultiesMap,m=e.difficultyFilters,p=e.setDifficultyFilters,g=Object(u.f)().id,v=K(),b=i.a.useState(!1),O=Object(o.a)(b,2),j=O[0],z=O[1],T=i.a.useState(),F=Object(o.a)(T,2),k=F[0],Q=F[1],N=i.a.useState(),M=Object(o.a)(N,2),D=M[0],q=M[1];i.a.useEffect((function(){Q(Object(l.a)({},m)),q(Object(l.a)({},r))}),[m,r]);var w=function(){z(!1),Q(Object(l.a)({},m)),q(Object(l.a)({},r))};return i.a.createElement(i.a.Fragment,null,i.a.createElement(C.a,{"aria-label":"settings",style:{color:"#F44336"},onClick:function(){z(!0)}},i.a.createElement(R.a,null)),i.a.createElement(y.a,{fullScreen:!0,open:j,onClose:w,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",TransitionComponent:Y},i.a.createElement(h.a,{className:v.appBar},i.a.createElement(I.a,null,i.a.createElement(C.a,{edge:"start",color:"inherit",onClick:w,"aria-label":"close"},i.a.createElement(S.a,null)),i.a.createElement(E.a,{variant:"h6",className:v.title},"Settings"),i.a.createElement(C.a,{edge:"start",color:"inherit",onClick:function(){if(z(!1),void 0!==g){var e=H.ref("parties/".concat(g,"/topics")),t=H.ref("parties/".concat(g,"/difficulties"));e.set(Object(l.a)({},D)),t.set(Object(l.a)({},k))}else p(Object(l.a)({},k)),c(Object(l.a)({},D))},"aria-label":"close"},i.a.createElement(W.a,null)))),i.a.createElement(x.a,{className:v.content},i.a.createElement(_,{topics:t,normalizedTopics:a,normalizedTopicsMap:n,topicStates:D,setTopicStates:q,difficulties:s,normalizedDifficulties:f,normalizedDifficultiesMap:d,difficultyStates:k,setDifficultyStates:Q}))))},X=Object(d.a)((function(e){return{root:{},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},flex:{display:"flex",justifyContent:"space-between",alignItems:"center"}}}));var Z=function(e){var t=e.question,a=e.title,n=e.help,r=(e.onUpdateCard,e.topics),c=e.normalizedTopics,l=e.normalizedTopicsMap,o=e.topicFilters,s=e.setTopicFilters,u=e.setCurrentTopic,f=e.difficulties,d=e.normalizedDifficulties,b=e.normalizedDifficultiesMap,h=e.difficultyFilters,j=e.setDifficultyFilters,S=e.currentQuestions,y=e.currentQuestionsMap,x=e.currentQuestion,I=e.setCurrentQuestion,z=X();return i.a.createElement("div",{className:"card-component"},i.a.createElement(p.a,{className:z.root},i.a.createElement(g.a,{classes:{title:z.flex},title:i.a.createElement(i.a.Fragment,null,i.a.createElement(V,{topics:r,normalizedTopics:c,normalizedTopicsMap:l,topicFilters:o,setTopicFilters:s,setCurrentTopic:u,difficulties:f,normalizedDifficulties:d,normalizedDifficultiesMap:b,difficultyFilters:h,setDifficultyFilters:j,currentQuestions:S,currentQuestionsMap:y,currentQuestion:x,setCurrentQuestion:I}),i.a.createElement(E.a,{variant:"h5"},a),i.a.createElement(k,{Icon:O.a},i.a.createElement(m.a,{maxWidth:"sm"},n)))}),i.a.createElement(v.a,null,i.a.createElement(E.a,{variant:"body2",color:"textSecondary",component:"p"},t))))},$=a(174);var ee=a(84),te=a.n(ee),ae=a(85),ne=a.n(ae),ie=a(177),re=a(179),ce=Object(d.a)((function(e){return{container:{display:"flex",justifyContent:"space-between"}}}));var le=function(e){var t=e.languageActives,a=e.setLanguageISO,n=e.languageISO,r=e.languages,c=ce(),l=Object(u.e)(),s=i.a.useState(),f=Object(o.a)(s,2),d=f[0],p=f[1];function g(e){var t=e.currentTarget.dataset.languageId;console.log(t,e.currentTarget.dataset),a(t),p(null)}return i.a.createElement(h.a,{position:"static"},i.a.createElement(I.a,null,i.a.createElement(m.a,{maxWidth:"xs",className:c.container},i.a.createElement($.a,{color:"inherit","aria-label":"menu",onClick:function(){return l.push("/")}},i.a.createElement(te.a,null)),i.a.createElement($.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(e){p(e.currentTarget)}},i.a.createElement(ne.a,null),i.a.createElement("span",{style:{marginLeft:"0.4em"}},n)),i.a.createElement(ie.a,{id:"languageSelector",anchorEl:d,keepMounted:!0,open:Boolean(d),onClose:function(){p(null)}},function(){var e=[];for(var a in t)e.push(i.a.createElement(re.a,{onClick:g,"data-language-id":a},i.a.createElement("span",{style:{textTransform:"uppercase",marginRight:"0.5em"}},a),i.a.createElement("span",null,r[a]&&r[a].nativeName)));return e}()))))},oe=Object(d.a)((function(e){return{container:{display:"flex",marginTop:"1.2rem",justifyContent:"space-between"},flexSpace:{flexBasis:"calc(33.33% - 0.2rem)"}}}));var se=function(e){var t=e.setLanguageISO,a=e.languageISO,r=e.languages,c=e.languageActives,l=e.questions,s=e.topics,f=e.normalizedTopics,d=e.normalizedTopicsMap,p=e.topicFilters,g=e.setTopicFilters,v=e.difficulties,E=e.normalizedDifficulties,b=e.normalizedDifficultiesMap,O=e.difficultyFilters,h=e.setDifficultyFilters,j=e.currentQuestions,S=e.currentQuestionsMap,y=e.currentQuestion,x=e.setCurrentQuestion,I=e.dataIsReady,z=Object(u.f)().id,C=oe(),T=i.a.useState(),F=Object(o.a)(T,2),k=F[0],Q=F[1],N=i.a.useState(),M=Object(o.a)(N,2),D=M[0],q=M[1],w=i.a.useState(!1),L=Object(o.a)(w,2),A=L[0],W=L[1],B=i.a.useState(!1),R=Object(o.a)(B,2),P=R[0],J=R[1],U=i.a.useState(!1),K=Object(o.a)(U,2),Y=K[0],_=K[1];function V(){if(void 0!==z&&I){_(!0);var e=H.ref("parties/".concat(z,"/currentQuestion")),t=G(j);e.set(t.questionId,(function(e){e||_(!1)}))}else if(I){var a=G(j);x(a.questionId),q(a.topicId)}}return Object(n.useEffect)((function(){if(void 0!==z&&I){console.log(z);var e=H.ref("parties/".concat(z));function t(e){var t=e.val();console.log(t),x(t.currentQuestion),q(l[t.currentQuestion].topicId),h(t.difficulties),g(t.topics),Q(!0)}return e.on("value",t,(function(e){console.log("The read failed: "+e.code)})),function(){e.off("value",t)}}}),[I,z,k,l,x,h,g]),i.a.useEffect((function(){if(void 0!==y&&void 0!==j&&void 0!==S&&!S.hasOwnProperty(y))if(void 0!==z){var e=H.ref("parties/".concat(z,"/currentQuestion")),t=G(j);e.set(t.questionId)}else{var a=G(j);x(a.questionId),q(a.topicId)}}),[j,S,y]),i.a.createElement("div",{className:"party-page"},i.a.createElement(le,{languages:r,languageActives:c,languageISO:a,setLanguageISO:t}),i.a.createElement(m.a,{maxWidth:"xs",className:"container"},i.a.createElement(Z,{question:I&&k&&l[y].question,title:I&&k&&s[D].name,help:I&&k&&s[D].help,onUpdateCard:V,topics:s,normalizedTopics:f,normalizedTopicsMap:d,setCurrentTopic:q,topicFilters:p,setTopicFilters:g,difficulties:v,normalizedDifficulties:E,normalizedDifficultiesMap:b,difficultyFilters:O,setDifficultyFilters:h,currentQuestions:j,currentQuestionsMap:S,currentQuestion:y,setCurrentQuestion:x}),i.a.createElement("div",{className:"".concat(C.container," wrapper-btn")},i.a.createElement($.a,{disabled:A,variant:"contained",size:"large",color:"primary",className:C.flexSpace,onClick:function(){if(void 0!==z&&I){W(!0);var e=H.ref("parties/".concat(z,"/currentQuestion")),t=S[y],a=t.index-1>0?j[t.index-1]:j[j.length-1];e.set(a.questionId,(function(e){e||W(!1)}))}else if(I){var n=S[y],i=n.index+1<j.length?j[n.index-1]:j[j.length-1];x(i.questionId),q(i.topicId)}}},"Prev"),i.a.createElement($.a,{disabled:Y,variant:"contained",size:"large",color:"primary",className:C.flexSpace,onClick:V},"Random"),i.a.createElement($.a,{disabled:P,variant:"contained",size:"large",color:"primary",className:C.flexSpace,onClick:function(){if(void 0!==z&&I){J(!0);var e=H.ref("parties/".concat(z,"/currentQuestion")),t=S[y],a=t.index+1<j.length?j[t.index+1]:j[0];e.set(a.questionId,(function(e){e||J(!1)}))}else if(I){var n=S[y],i=n.index+1<j.length?j[n.index+1]:j[0];x(i.questionId),q(i.topicId)}}},"Next"))))};a(117);var ue=function(){var e=Object(u.e)();return i.a.createElement("div",{className:"landing-page"},i.a.createElement(m.a,{maxWidth:"xs",className:"container"},i.a.createElement("h1",null,"Party Language ",i.a.createElement("br",null)," Cards"),i.a.createElement("div",{className:"wrapper-button"},i.a.createElement($.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.push("/party/0")}},"New Party"),i.a.createElement($.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.push("/party/0")}},"Random Card"))))};a(118);var fe=function(){var e=Object(u.e)();return i.a.createElement("div",{className:"admin-page"},i.a.createElement(m.a,{maxWidth:"xs",className:"container"},i.a.createElement("h1",null,"Admin ",i.a.createElement("br",null)," Cards"),i.a.createElement("div",{className:"wrapper-button"},i.a.createElement($.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.push("/edit")}},"Cards"),i.a.createElement($.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.push("/edit")}},"Groups"),i.a.createElement($.a,{size:"large",fullWidth:!0,variant:"contained",color:"primary",onClick:function(){return e.push("/")}},"Home"))))};function de(){var e=Object(n.useState)("en"),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(),s=Object(o.a)(c,2),d=s[0],m=s[1],p=Object(n.useState)({}),g=Object(o.a)(p,2),v=g[0],E=g[1],b=Object(n.useState)([]),O=Object(o.a)(b,2),h=O[0],j=O[1],S=i.a.useState(),y=Object(o.a)(S,2),x=y[0],I=y[1],z=i.a.useState(),C=Object(o.a)(z,2),T=C[0],F=C[1],k=i.a.useState(),Q=Object(o.a)(k,2),N=Q[0],M=Q[1],D=i.a.useState(),q=Object(o.a)(D,2),w=q[0],L=q[1],A=i.a.useState(),W=Object(o.a)(A,2),B=W[0],R=W[1],P=i.a.useState(),J=Object(o.a)(P,2),U=J[0],G=J[1],K=Object(n.useState)(),Y=Object(o.a)(K,2),_=Y[0],V=Y[1],X=Object(n.useState)(),Z=Object(o.a)(X,2),$=Z[0],ee=Z[1],te=i.a.useState(),ae=Object(o.a)(te,2),ne=ae[0],ie=ae[1],re=i.a.useState(),ce=Object(o.a)(re,2),le=ce[0],oe=ce[1],de=i.a.useState(),me=Object(o.a)(de,2),pe=me[0],ge=me[1],ve=Object(n.useState)(!1),Ee=Object(o.a)(ve,2),be=Ee[0],Oe=Ee[1];function he(e){var t={};for(var a in e)e.hasOwnProperty(a)&&(t[a]=!0);return t}return i.a.useEffect((function(){var e=H.ref("languages");function t(e){var t=e.val();m(t.actives),E(t.isoLangs),h&&t&&Oe(!0)}return e.on("value",t,(function(e){console.log("The read failed: "+e.code)})),function(){e.off("value",t)}}),[]),i.a.useEffect((function(){var e=H.ref("app/".concat(a));function t(e){var t=e.val();console.log(t),j(t.questions),V(t.questions),I(t.topics),ge(he(t.topics)),h&&v&&Oe(!0),L(t.difficulties),oe(he(t.difficulties))}return e.on("value",t,(function(e){console.log("The read failed: "+e.code)})),function(){e.off("value",t)}}),[a]),i.a.useEffect((function(){if(be&&pe&&le){var e=[],t={};for(var a in console.log(pe),h){var n=h[a];pe[n.topicId]&&le[n.difficulty]&&e.push(Object(l.a)({},n,{questionId:a}))}e.sort((function(e,t){return x[e.topicId].name>x[t.topicId].name?1:x[e.topicId].name<x[t.topicId].name?-1:0})),e.forEach((function(e,a){e.index=a,t[e.questionId]=Object(l.a)({},e,{index:a})})),console.log(e),console.log(t),V(e),ee(t)}}),[be,le,h,pe,x]),i.a.useEffect((function(){if(be){var e=[],t={};for(var a in x){var n=x[a];e.push(Object(l.a)({},n,{id:a}))}e.sort((function(e,t){return e.name>t.name?1:e.name<t.name?-1:0})),e.forEach((function(e,a){e.index=a,t[e.id]=Object(l.a)({},e,{idNormalized:a})})),F(e),M(t)}}),[x]),i.a.useEffect((function(){if(be){var e=[],t={};for(var a in w){var n=w[a];e.push(Object(l.a)({},n,{id:a}))}e.sort((function(e,t){return e.id>t.id?1:e.id<t.id?-1:0})),e.forEach((function(e,a){e.index=a,t[e.difficultyId]=Object(l.a)({},e,{idNormalized:a})})),R(e),G(t)}}),[w]),i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{exact:!0,path:"/"},i.a.createElement(ue,{languageISO:a,setLanguageISO:r,languageActives:d})),i.a.createElement(u.a,{exact:!0,path:"/edit"},i.a.createElement(f,null)),i.a.createElement(u.a,{exact:!0,path:"/admin"},i.a.createElement(fe,null)),i.a.createElement(u.a,{exact:!0,path:"/party/:id"},i.a.createElement(se,{setLanguageISO:r,languageISO:a,languages:v,languageActives:d,questions:h,topics:x,normalizedTopics:T,normalizedTopicsMap:N,topicFilters:pe,setTopicFilters:ge,difficulties:w,normalizedDifficulties:B,normalizedDifficultiesMap:U,difficultyFilters:le,setDifficultyFilters:oe,currentQuestions:_,currentQuestionsMap:$,currentQuestion:ne,setCurrentQuestion:ie,dataIsReady:be})))}var me=function(){return i.a.createElement(s.a,null,i.a.createElement(de,null))};c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(me,null)),document.getElementById("root"))},92:function(e,t,a){e.exports=a(119)},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[92,1,2]]]);
//# sourceMappingURL=main.54795bcb.chunk.js.map